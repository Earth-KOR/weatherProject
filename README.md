# 오늘 이 옷 출격 가능?

#### 개요

* 우리는 항상 이 옷을 입으면 더울까? 추울까? 라고 고민합니다. 날씨에 따라 자동으로 그 옷을 입어도 되는지 알려주는 서비스!

  

## 설계

* Front : React.js
* Back : Node.js + Express.js
* 통신 ~~REST API~~ > GraphQL 다양한 쿼리를 이용하기 위해
* DB : mongoDB

#### Query별 함수

1. ` getWeather(latitude: String!, longitude: String!): Forecast!`

   * 사용 API : Google 위치정보, 날씨 API

     * 날씨 API에서 가져오는 정보 

       | 데이터       | 변수       |
       | ------------ | ---------- |
       | 시간         | time       |
       | 온도         | temp       |
       | 체감 온도    | feels_like |
       | 날씨 상태    | condition  |
       | 습도         | humidity   |
       | 바람 속도    | wind_speed |
       | 강수 or 강우 | rain       |

     * GraphQL Query

       ```javascript
           type Weather {
               time: String!
               temp: Int!
               feels_like: Int!
               condition: String!
               humidity: Int!
               wind_speed: Float!
               rain: Float
           }
       ```

2. ` getClothes(temp: Int!): [Clothe]`

   * 온도에 따른 옷 가져오는 기능

3. `getCityId(city: String): CityId!`

   * city id 검색하기

#### 주요 NPM Pakage

* ~~request~~ => axios
* express
* body-parser
* socket.io
* mongoose
* graphql-express

#### 날씨 API

OpenWeather

API URL : `api.openweathermap.org/data/2.5/forecast?q={city name}&appid={your api key}`

#### 온도별 출격 허가

* 아우터

| 종류                    | 가능 온도 | 단계      | 강수 |
| ----------------------- | --------- | --------- | ---- |
| 자켓 or 블레이저 (코튼) | 14~25     | 4,5.6     |      |
| 린넨자켓                | 14~25     | 4,5.6     |      |
| 울자켓                  | -5~20     | 1,2,3,4,5 |      |
| 후드 (면)               | 5~25      | 3,4,5,6   |      |
| 후드 (이너로)           | -5~10     | 0,1,2     |      |
| 싱글 면 코트 (면, 폴리) | 10~17     | 3,4       |      |
| 트렌치 코트 (면, 폴리)  | 10~17     | 3,4       |      |
| 핸드메이드 코트         | 5~14      | 3         |      |
| 울 코트 (울, 캐시미어)  | 0~14      | 1,2,3     |      |
| 가디건                  | 14~25     | 4,5,6     |      |
| 가디건 (이너)           | -5~10     | 0,12      |      |
| MA-1 간절기용           | 10~17     | 3,4       |      |
| MA-1 두꺼운 겨울용      | 0~14      | 1,2,3     |      |
| 경패딩                  | 5~14      | 2,3       |      |
| 그냥 패딩               | -5~5      | 0,1       |      |
| 대장패딩                | 0         | 0         |      |
| 롱패딩                  | -5~5      | 0,1       |      |
| 바버                    | 5~17      | 3,4       |      |
| 청자켓                  | 10~17     | 3,4       |      |
| 스웨이드자켓            | 10~17     | 3,4       |      |
| 코듀로이자켓            | 10~17     | 3,4       |      |
| 덱자켓                  | 5~14      | 2,3       |      |
| 후리스                  | 5~17      | 2,3,4     |      |
| 패딩 조끼               | 5~17      | 2,3,4     |      |
| 무스탕                  | 0~14      | 1,2,3     |      |
| 야상 (면)               | 5~17      | 2,3,4     |      |
| 셔츠 아우터             | 14~20     | 4,5       |      |
| 아노락                  | 10~17     | 3,4       |      |
| 라이더                  | 10~17     | 3,4       |      |

* 상의

| 종류                 | 가능 온도 | 단계              | 강수 |
| -------------------- | --------- | ----------------- | ---- |
| 반팔 티셔츠          | 17~35     | 5,6,7,8           |      |
| 긴팔 티셔츠          | -5~25     | 0,1,2,3,4,5,6     |      |
| 폴로 티셔츠          | 17~35     | 5,6,7,8           |      |
| 헨리넥 티셔츠        | -5~35     | 0,1,2,3,4,5,6,7,8 |      |
| 면 긴팔 셔츠         | -5~30     | 0,1,2,3,4,5,6,7   |      |
| 면 반팔 셔츠         | 17~35     | 5,6,7,8           |      |
| 폴리에스터 긴팔 셔츠 | +5~30     | 0,1,2,3,4,5,6,7   |      |
| 폴리에스터 반팔 셔츠 | 17~30     | 5,6,7             |      |
| 모 긴팔 셔츠         | 5~25      | 2,3,4,5,6         |      |
| 리넨 긴팔 셔츠       | 14~30     | 4,5,6,7           |      |
| 리넨 반팔 셔츠       | 20~35     | 6,7,8             |      |
| 레이온 긴팔 셔츠     | -5~30     | 0,1,2,3,4,5,6,7   |      |
| 레이온 반팔 셔츠     | 17~35     | 5,6,7,8           |      |
| 시어서커 긴팔 셔츠   | -5~30     | 0,1,2,3,4,5,6,7   |      |
| 시어서커 반팔 셔츠   | 17~35     | 5,6,7,8           |      |
| 데님 셔츠            | 10~25     | 3,4,5,6           |      |
| 나시                 |           |                   |      |
| 목폴라               | -5~10     | 0,1,2             |      |
| 울 니트              | -5~20     | 0,1,2,3,4,5       |      |
| 아크릴 니트          | -5~20     | 0,1,2,3,4,5       |      |
| 캐시미어 니트        | -5~20     | 0,1,2,3,4,5       |      |
| 니트 조끼            | -5~25     | 0,1,2,3,4,5,6     |      |
| 등산복               | 5~25      | 2,3,4,5,6         |      |
| 점프슈트             | 10~20     | 3,4,5             |      |
| 맨투맨 면            | -5~25     | 0,1,2,3,4,5,6     |      |
| 맨투맨 기모          | -5~14     | 0,1,2,3           |      |

* 하의

| 품목             | 가능 온도 | 단계              |
| ---------------- | --------- | ----------------- |
| 리넨 소재 반바지 | 25~35     | 7,8               |
| 면 소재 반바지   | 25~35     | 7,8               |
| 청 소재 반바지   | 25~35     | 7,8               |
| 폴리 소재 반바지 | 25~35     | 7,8               |
| 린넨 슬랙스      | 20~35     | 6,7,8             |
| 치노 팬츠        | -5~35     | 0,1,2,3,4,5,6,7,8 |
| 스웨트 팬츠 (면) | -5~25     | 0,1,2,3,4,5,6     |
| 혼방 슬랙스      | -5~25     | 0,1,2,3,4,5,6     |
| 울 슬랙스        | -5~20     | 0,1,2,3,4,5       |
| 청바지           | -5~30     | 0,1,2,3,4,5,6,7   |
| 가죽바지         | -5~25     | 0,1,2,3,4,5,6     |
| 등산바지         | 10~25     | 3,4,5,6           |
| 카고 (면)        | 5~30      | 2,3,4,5,6,7       |
| 조거 (면)        | 5~30      | 2,3,4,5,6,7       |
| 조거 (폴리)      | 5~30      | 2,3,4,5,6,7       |
| 레깅스           | 5~30      | 2,3,4,5,6,7       |

* 액세서라

| 품목            | 가능 온도 |                 |
| --------------- | --------- | --------------- |
| 머플러 (간절기) | 0~14      | 1,2             |
| 장갑            | -5~5      | 0,1,2           |
| 마스크          | -5~10     | 0,1,2           |
| 긴양말          | -5~25     | 0,1,2,3,4,5.6   |
| 페이크 삭스     | 10~30     | 3,4,5,6,7       |
| 목도리(겨울)    | -5~5      | 0,1             |
| 비니            | -5~14     | 0,1,2,3         |
| 캡              | -5~30     | 0,1,2,3,4,5,6,7 |

* 구두

| 품목          | 가능 온도 | 단계              |
| ------------- | --------- | ----------------- |
| 플레인 토     | -5~35     | 0,1,2,3,4,5,6,7,8 |
| 스트레이트 팁 | -5~35     | 0,1,2,3,4,5,6,7,8 |
| 윙팁          | -5~35     | 0,1,2,3,4,5,6,7,8 |
| 로퍼          | 10~35     | 3,4,5,6,7,8       |
| 첼시          | -5~25     | 0,1,2,3,4,5,6     |
| 블로퍼        | 10~35     | 3,4,5,6,7,8       |
| 유팁          | -5~35     | 0,1,2,3,4,5,6,7,8 |

* 신발

| 품목              | 가능 온도 |                   |
| ----------------- | --------- | ----------------- |
| 슬리퍼            | 25~35     | 7,8               |
| 샌들              | 25~35     | 7,8               |
| 면 스니커즈       | -5~35     | 0,1,2,3,4,5,6,7,8 |
| 합성피혁 스니커즈 | -5~35     | 0,1,2,3,4,5,6,7,8 |
| 가죽 스니커즈     | -5~35     | 0,1,2,3,4,5,6,7,8 |
| 드라이빙 슈즈     | 10~35     | 2,3,4,5,6,7,8     |
| 부츠              | 10~20     | 0,1,2,3,4,5       |
| 워커              | -5~25     | 0,1,2,3,4,5,6     |
| 맨발              | -5~35     | 0,1,2,3,4,5,6,7,8 |
| 런닝화            | 5~25      | 2,3,4,5,6,7,8     |
| 등산화            | -5~35     | 0,1,2,3,4,5,6,7,8 |

#### 단계

0. -5도 이하 : 대장급 패딩 + 히트택
1. -5~0도 : 대장급 패딩 출격 허가
2. 0~10도: 초겨울에서 겨울 날씨
3. 10~14도: 완연한 봄 /가을 날씨 (맥코트, 트렌치코트, 가죽자켓, 울자켓 출격 허가)
4. 14~17도: 간절기
5. 17~20도: 애매한 봄 /가을 날씨 (긴팔티, 맨투맨, 니트, 얇은류 자켓류 출격 허가)
6. 20~25도: 살짝 더운 초여름 날씨( 긴팔티/ 반팔티 혼용기간)
7. 25~30도: 여름 날씨(반팔, 반자지 출격)
8. 30~35도: 정신이 혼미해지는 단계
9. 35도 이상: 헬

# 기능

1. 브라우저에서 위치 정보를 받아와서 위도 경도로 날씨 검색 후 제공
2. 날씨에 맞게 옷을 추천
3. 검색을 통해 도시를 변경 할 수 있다.
4. 좋아요를 눌러서 그날 옷 괜찮은지 socket.io로 보내줄 수 있다.
   * 같은 날, 같은 지역에 있는 사람끼리 좋아요를 공유할 수 있다.
   * 구글 위치 api를 사용한다. (위도 경도로 도시 불러오기)
   * Local Storage 정보를 남겨서 한번만 좋아요 누를수 있게 한다.
   * userIdCheck 쿼리


